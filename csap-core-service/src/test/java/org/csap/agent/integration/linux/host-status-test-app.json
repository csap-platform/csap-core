{
  "project" : {
    "api-version" : 2.1,
    "project-version" : 1.0,
    "name" : "default",
    "architect" : "you@you.com",
    "emailNotifications" : "support@notConfigured.com"
  },
  "environments" : {
    "defaults" : {
      "settings" : {
        "base-env-only" : true,
        "application" : {
          "name" : "Sensus DevOps",
          "sub-projects" : [ ],
          "definition-repo-url" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/***REMOVED***-tools-definition",
          "definition-repo-branch" : "master",
          "maven-url" : "http://***REMOVED***pro-00.***REMOVED***.lab/artifactory/csap-release",
          "help-menu-items" : {
            "User Guide" : "https://***REMOVED***.atlassian.net/wiki/spaces/CSAP",
            "Release Notes" : "https://***REMOVED***.atlassian.net/wiki/spaces/CSAP/pages/258211856/Release+Notes",
            "Quick Install" : "https://***REMOVED***.atlassian.net/wiki/spaces/CSAP/pages/395282580/CSAP+Quick+Install",
            "Health Status" : "https://***REMOVED***.atlassian.net/wiki/spaces/CSAP/pages/258211861/CSAP+Health",
            "Application Editor" : "https://***REMOVED***.atlassian.net/wiki/spaces/CSAP/pages/258211875/CSAP+Application+Editor",
            "FAQ" : "https://***REMOVED***.atlassian.net/wiki/spaces/CSAP/pages/347177032/CSAP+FAQ"
          }
        },
        "monitorDefaults" : {
          "jvm_jmxHeartbeat" : true,
          "maxDiskPercent" : "85",
          "maxDiskPercentIgnorePatterns" : "/auto/.*",
          "maxHostCpuLoad" : 4,
          "maxHostCpu" : 50,
          "maxHostCpuIoWait" : 11,
          "minFreeMemoryMb" : "1000",
          "max_diskUtil" : "150",
          "max_threadCount" : "120",
          "max_fileCount" : "350",
          "max_rssMemory" : "500m",
          "max_tomcatConnections" : "40",
          "max_topCpu" : "150"
        },
        "configuration-maps" : {
          "global" : {
            "csap_auto" : "test_only"
          }
        }
      },
      "base-os" : { }
    },
    "dev" : {
      "settings" : {
        "imports" : [ "defaults" ],
        "loadbalancer-url" : "",
        "configuration-maps" : { }
      },
      "csapEvent" : {
        "type" : "simple",
        "hosts" : [ "csapTest-one", "csapTest-two" ],
        "template-references" : [ "mongoDb", "data", "analytics" ]
      },
      "devOpsTest" : {
        "type" : "simple",
        "hosts" : [ "csapTest-five", "csapTest-six" ],
        "notes" : "Used for RNI",
        "display" : "high",
        "template-references" : [ "PostGresDb", "nginx", "csap-test-docker-traffic", "TestService", "seanService" ]
      },
      "baseOsServices" : {
        "type" : "simple",
        "hosts" : [ "csapTest-five", "csapTest-one", "csapTest-six", "csapTest-two" ],
        "notes" : "For ease of management - common services are typically placed in a single  cluster.",
        "template-references" : [ "CsapStarter", "Java", "docker", "jstatd", "linux", "mpstatMonitor" ]
      },
      "csapManagementServices" : {
        "type" : "simple",
        "hosts" : [ "csapTest-one", "csapTest-two" ],
        "notes" : "CSAP admin service and httpd provide the application portal and http loadbalancing",
        "template-references" : [ "httpd", "tomcat", "SimpleServlet", "csap-admin", "CsapTest" ]
      },
      "zDockerTest" : {
        "type" : "simple",
        "display" : "high",
        "notes" : "Used to demo load test",
        "hosts" : [ "csapTest-five", "csapTest-six" ],
        "monitors" : {
          "maxDiskPercentIgnorePatterns" : "/ignored.*",
          "max_rssMemory" : "1"
        },
        "template-references" : [ "ActiveMq", "HsqlDatabase", "CsapTestDocker" ]
      },
      "zCsapEventArbiter" : {
        "type" : "simple",
        "hosts" : [ "csapTest-one" ],
        "template-references" : [ "mongoArbiter" ]
      },
      "zJmeterMonitoring" : {
        "type" : "simple",
        "hosts" : [ "csapTest-two" ],
        "template-references" : [ "JmeterMonitor" ]
      }
    }
  },
  "service-templates" : {
    "ActiveMq" : {
      "server" : "docker",
      "autoStart" : 50,
      "port" : 8161,
      "description" : "activemq docker instance providing JMS messaging",
      "docUrl" : "https://hub.docker.com/r/webcenter/activemq/",
      "appDirectory" : "/opt/activemq",
      "propDirectory" : "/opt/activemq/bin",
      "processFilter" : ".*activemq.*",
      "alerts" : {
        "max_diskUtil" : "900m"
      },
      "isDataStore" : "true",
      "isMessaging" : "true",
      "jmxPort" : "8162",
      "logDirectory" : "/var/log/activemq",
      "defaultLogToShow" : "activemq.log",
      "docker" : {
        "image" : "***REMOVED***-docker.davis.***REMOVED***.lab/csap-activemq:latest",
        "entryPoint" : [ "" ],
        "command" : [ "/app/run.sh" ],
        "containerName" : "$$service-name",
        "workingDirectory" : "/opt/activemq",
        "networkMode" : "host",
        "versionCommand" : "ls /opt/activemq/*.jar | cut -d- -f3 | cat",
        "environmentVariables" : [ "csapJmxOpts=-DcsapJmxPort=$$service-jmx-port" ],
        "volumes" : [ {
          "containerMount" : "/data/activemq",
          "hostPath" : "",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "containerMount" : "/opt/activemq/conf",
          "hostPath" : "",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "containerMount" : "/var/log/activemq",
          "hostPath" : "",
          "readOnly" : false,
          "sharedUser" : true
        } ],
        "portMappings" : [ {
          "PrivatePort" : "1883",
          "PublicPort" : "1883"
        }, {
          "PrivatePort" : "5672",
          "PublicPort" : "5672"
        }, {
          "PrivatePort" : "61613",
          "PublicPort" : "61613"
        }, {
          "PrivatePort" : "61614",
          "PublicPort" : "61614"
        }, {
          "PrivatePort" : "61616",
          "PublicPort" : "61616"
        }, {
          "PrivatePort" : "8161",
          "PublicPort" : "8161"
        } ],
        "limits" : {
          "cpuCoresMax" : 3,
          "logs" : {
            "type" : "json-file",
            "max-size" : "10m",
            "max-file" : "2"
          }
        },
        "network" : {
          "name" : "csap-test-network",
          "note" : "name can be bridge, host, or custom network name",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "bridge"
          }
        }
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad"
        },
        "jmxHeartbeatMs" : {
          "mbean" : "org.apache.activemq:type=Broker,brokerName=localhost",
          "attribute" : "TotalConsumerCount",
          "title" : "Health Check (ms)"
        },
        "TotalConsumerCount" : {
          "mbean" : "org.apache.activemq:type=Broker,brokerName=localhost",
          "attribute" : "TotalConsumerCount"
        },
        "JvmThreadCount" : {
          "mbean" : "java.lang:type=Threading",
          "attribute" : "ThreadCount"
        },
        "CsapReferenceQ" : {
          "mbean" : "org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=csap-test",
          "attribute" : "QueueSize"
        },
        "CsapRefmaxTime" : {
          "mbean" : "org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=csap-test",
          "attribute" : "MaxEnqueueTime"
        },
        "CsapRefAdded" : {
          "mbean" : "org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=csap-test",
          "attribute" : "EnqueueCount",
          "delta" : "delta"
        },
        "CsapRefDispatched" : {
          "mbean" : "org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=csap-test",
          "attribute" : "DequeueCount",
          "delta" : "delta"
        }
      },
      "launchUrl" : "http://$$service-host:$$service-primary-port"
    },
    "CsapSimple" : {
      "server" : "SpringBoot",
      "autoStart" : 41,
      "description" : "Csap simple tests",
      "alerts" : {
        "max_diskUtil" : "150",
        "max_threadCount" : "100",
        "max_fileCount" : "300",
        "max_socketCount" : "20",
        "max_rssMemory" : "768m",
        "max_tomcatConnections" : "40",
        "max_topCpu" : "150"
      },
      "isTomcatAjp" : "true",
      "osProcessPriority" : 0,
      "parameters" : "-DcsapJava8  -Dspring.profiles.active=CSAP_LIFE,desktop -Xms128M -Xmx133M -XX:MaxMetaspaceSize=96M -XX:+ExitOnOutOfMemoryError",
      "environmentVariables" : {
        "csapExternalPropertyFolder" : "$STAGING/conf/propertyOverride/shared"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-starter.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-starter-simple"
      },
      "maven" : {
        "dependency" : "org.csap:csap-starter-simple:1.0.0:jar"
      },
      "performance" : {
        "HostCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "max" : 40,
          "title" : "Host CPU"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "max" : 40,
          "title" : "JVM Cpu"
        },
        "classesLoaded" : {
          "title" : "JVM Classes Loaded",
          "mbean" : "java.lang:type=ClassLoading",
          "attribute" : "LoadedClassCount",
          "max" : 10
        },
        "rememberMeMs" : {
          "title" : "Remember Me (ms)",
          "max" : 10,
          "simonMedianTime" : "csap.security.rememberMe"
        },
        "rememberMe" : {
          "title" : "Remember Me Requests",
          "max" : 10,
          "simonCounter" : "csap.security.rememberMe"
        }
      },
      "health" : {
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus",
        "reportAttribute" : "HealthReport"
      }
    },
    "CsapStarter" : {
      "server" : "csap-api",
      "description" : "Used to build the latest csap-starter",
      "propDirectory" : "/opt/csapUser/staging/build",
      "processFilter" : "none",
      "environmentVariables" : {
        "javaBuildOnly" : "true"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-starter.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-starter"
      },
      "maven" : {
        "dependency" : "org.csap:csap-starter:1.5.9.7:jar"
      },
      "logDirectory" : "/opt/csapUser/staging/build",
      "logRegEx" : ".*\\.log",
      "url" : "https://github.com/csap-platform/csap-core/wiki",
      "metaData" : ""
    },
    "CsapTest" : {
      "server" : "SpringBoot",
      "autoStart" : 42,
      "description" : "csap-starter reference implementation",
      "alerts" : {
        "max_diskUtil" : "5500",
        "max_threadCount" : "200",
        "max_fileCount" : "500",
        "max_socketCount" : "100",
        "max_rssMemory" : "1000m",
        "max_tomcatConnections" : "10",
        "max_topCpu" : "150"
      },
      "isTomcatAjp" : "true",
      "osProcessPriority" : 0,
      "parameters" : "-DcsapJava8  -Dspring.profiles.active=embedded,CSAP_LIFE -Xms256M -Xmx256M -XX:MaxMetaspaceSize=96M -XX:+ExitOnOutOfMemoryError",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-starter.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-starter-tester"
      },
      "maven" : {
        "dependency" : "org.csap:csap-starter-tester:1.0.3:jar"
      },
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "simple test script",
          "frequency" : "onDemand",
          "script" : "$$service-working/jarExtract/BOOT-INF/classes/scripts/test-admin-script.sh"
        }, {
          "description" : "simple ls command",
          "frequency" : "onDemand",
          "script" : "ls -l"
        } ]
      },
      "runUsingDocker" : "false",
      "docker" : {
        "image" : "***REMOVED***-docker.davis.***REMOVED***.lab/csap-base:latest",
        "entryPoint" : [ "/bin/sh", "-c", "echo use csap service log viewer, running as `id`; java -version ;java $$service-parameters -DcsapDockerJava org.springframework.boot.loader.JarLauncher --spring.profiles.active=$$service-environment --server.context-path=/$$service-context --server.port=$$service-primary-port \u003E\u003E logs/consoleLogs.txt 2\u003E\u00261" ],
        "command" : [ ],
        "workingDirectory" : "/_working",
        "runUser" : "$csapUser",
        "networkMode" : "",
        "containerName" : "$$service-name",
        "environmentVariables" : [ "CLASSPATH=/_working/jarExtract", "testVar=testValue" ],
        "volumes" : [ {
          "hostPath" : "$$service-working",
          "containerMount" : "/_working",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "hostPath" : "$$service-working/demoMount",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "host"
          },
          "containerMount" : "/_working_demoMount",
          "readOnly" : false,
          "sharedUser" : true
        } ],
        "portMappings" : [ {
          "PrivatePort" : "$$service-primary-port",
          "PublicPort" : "$$service-primary-port"
        }, {
          "PrivatePort" : "$$service-ajp-port",
          "PublicPort" : "$$service-ajp-port"
        } ],
        "limits" : {
          "cpuCoresMax" : 3
        },
        "network" : {
          "name" : "csaptest-network",
          "note" : "name can be bridge, host, or custom network name",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "bridge"
          }
        }
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "max" : 40,
          "title" : "Host CPU"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "max" : 40,
          "title" : "JVM Cpu"
        },
        "SpringJmsListeners" : {
          "mbean" : "org.csap:application=sample,name=PerformanceMonitor",
          "attribute" : "JmsActive",
          "max" : 30,
          "title" : "JMS Active Beans"
        },
        "SpringJmsCount" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "title" : "Message Count"
        },
        "SpringJmsCountPerSecond" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "interval",
          "title" : "Messages per second"
        },
        "SpringJmsMedianTimeMs" : {
          "simonMedianTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 3,
          "title" : "Message Mean (ms)"
        },
        "SpringJmsMaxMs" : {
          "simonMaxTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 400,
          "title" : "Message Max (ms)"
        },
        "SpringDbcpActive" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumActive",
          "max" : 5,
          "title" : "DB Connections: Active"
        },
        "SpringDbcpIdle" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumIdle",
          "max" : 15,
          "title" : "DB Connections: Idle"
        },
        "DBAddItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.addSchedule()",
          "title" : "DB: Insert Schedule"
        },
        "DBShowItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.showScheduleItemsJpql()",
          "title" : "DB: Show Schedule"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ]
    },
    "CsapTestDocker" : {
      "server" : "SpringBoot",
      "autoStart" : 53,
      "port" : 8261,
      "description" : "csap-starter reference implementation",
      "alerts" : {
        "max_diskUtil" : "1g",
        "max_threadCount" : "200",
        "max_fileCount" : "500",
        "max_socketCount" : "100",
        "max_rssMemory" : "1000m",
        "max_tomcatConnections" : "10",
        "max_topCpu" : "150"
      },
      "isTomcatAjp" : "true",
      "osProcessPriority" : 0,
      "parameters" : "-DcsapJava8  -Dspring.profiles.active=CSAP_LIFE -XX:+UseG1GC  -Xms64M -Xmx256M -XX:MaxMetaspaceSize=96M -XX:+ExitOnOutOfMemoryError",
      "environmentVariables" : {
        "jmsHost" : "activemq-8161",
        "dbHost" : "hsqldatabase-9002"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-starter.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-starter-tester"
      },
      "maven" : {
        "dependency" : "org.csap:csap-starter-tester:1.0.3:jar"
      },
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "Load test",
          "frequency" : "daily",
          "hour" : "06",
          "script" : "$$csap-base/bin/admin-run-load-test.sh -run_if_host_is csapTest-six"
        }, {
          "description" : "simple test script",
          "frequency" : "onDemand",
          "script" : "$$service-working/jarExtract/BOOT-INF/classes/scripts/test-admin-script.sh"
        }, {
          "description" : "simple ls command",
          "frequency" : "onDemand",
          "script" : "ls -l"
        } ],
        "logRotation" : [ {
          "path" : "$$service-logs/consoleLogs.txt",
          "settings" : "copytruncate,weekly,rotate 3,compress,missingok,size 3M"
        }, {
          "path" : "$$service-logs/warnings.log",
          "lifecycles" : "dev,stage,lt",
          "settings" : "copytruncate,weekly,rotate 3,compress,missingok,size 1M"
        }, {
          "path" : "$$service-logs/warnings.log",
          "lifecycles" : "prod",
          "settings" : "copytruncate,weekly,rotate 5,compress,missingok,size 10M"
        } ],
        "diskCleanUp" : [ {
          "path" : "$$service-working/jmeter/reports",
          "olderThenDays" : 3,
          "maxDepth" : 20
        }, {
          "path" : "$$service-working/logs/serviceJobs/*.log",
          "olderThenDays" : 7,
          "maxDepth" : 1
        } ]
      },
      "runUsingDocker" : "true",
      "docker" : {
        "image" : "***REMOVED***-docker.davis.***REMOVED***.lab/csap-base:latest",
        "entryPoint" : [ "/bin/sh", "-c", "echo use csap service log viewer, running as `id`; java -version ;java $$service-parameters -DcsapDockerJava org.springframework.boot.loader.JarLauncher --spring.profiles.active=$$service-environment --server.context-path=/$$service-context --server.port=$$service-primary-port \u003E\u003E logs/consoleLogs.txt 2\u003E\u00261" ],
        "command" : [ ],
        "workingDirectory" : "/_working",
        "runUser" : "$csapUser",
        "containerName" : "$$service-name",
        "environmentVariables" : [ "CLASSPATH=/_working/jarExtract", "testVar=testValue" ],
        "volumes" : [ {
          "hostPath" : "$$service-working",
          "containerMount" : "/_working",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "hostPath" : "csaptest-local-volume",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "local"
          },
          "containerMount" : "/my-demo-local-mount",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "hostPath" : "$$service-working/demo-host-mount",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "host"
          },
          "containerMount" : "/my-demo-host-mount",
          "readOnly" : false,
          "sharedUser" : true
        } ],
        "portMappings" : [ {
          "PrivatePort" : "$$service-primary-port",
          "PublicPort" : "$$service-primary-port"
        }, {
          "PrivatePort" : "$$service-ajp-port",
          "PublicPort" : "$$service-ajp-port"
        } ],
        "limits" : {
          "cpuCoresMax" : 3
        },
        "network" : {
          "name" : "csap-test-network",
          "note" : "name can be bridge, host, or custom network name",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "bridge"
          }
        }
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "max" : 40,
          "title" : "Host CPU"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "max" : 40,
          "title" : "JVM Cpu"
        },
        "SpringJmsListeners" : {
          "mbean" : "org.csap:application=sample,name=PerformanceMonitor",
          "attribute" : "JmsActive",
          "max" : 30,
          "title" : "JMS Active Beans"
        },
        "SpringJmsCount" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "title" : "Message Count"
        },
        "SpringJmsCountPerSecond" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "interval",
          "title" : "Messages per second"
        },
        "SpringJmsMedianTimeMs" : {
          "simonMedianTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 3,
          "title" : "Message Mean (ms)"
        },
        "SpringJmsMaxMs" : {
          "simonMaxTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 400,
          "title" : "Message Max (ms)"
        },
        "SpringDbcpActive" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumActive",
          "max" : 5,
          "title" : "DB Connections: Active"
        },
        "SpringDbcpIdle" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumIdle",
          "max" : 15,
          "title" : "DB Connections: Idle"
        },
        "DBAddItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.addSchedule()",
          "title" : "DB: Insert Schedule"
        },
        "DBShowItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.showScheduleItemsJpql()",
          "title" : "DB: Show Schedule"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ]
    },
    "HsqlDatabase" : {
      "server" : "docker",
      "autoStart" : 51,
      "port" : 9002,
      "description" : "activemq docker instance providing JMS messaging",
      "docUrl" : "http://hsqldb.org/",
      "appDirectory" : "/hsqldb",
      "propDirectory" : "/hsqldb/data",
      "processFilter" : ".*org.hsqldb.server.Server.*",
      "alerts" : {
        "max_diskUtil" : "800m"
      },
      "isDataStore" : "true",
      "isMessaging" : "true",
      "jmxPort" : "9003",
      "docker" : {
        "image" : "***REMOVED***-docker.davis.***REMOVED***.lab/csap-db-hsql:latest",
        "entryPoint" : [ "/hsqldb/runHsql.sh" ],
        "command" : [ "" ],
        "containerName" : "$$service-name",
        "versionCommand" : "ls -d /hsqldb-* | cut -d- -f2 | cat",
        "environmentVariables" : [ "javaOpts=-Xmx500M -Xms500M -DcsapJmxPort=$$service-jmx-port", "dbDefinition=-database.0 file:data/testdb -dbname.0 testdb" ],
        "volumes" : [ ],
        "portMappings" : [ {
          "PrivatePort" : "9002",
          "PublicPort" : "9002"
        } ],
        "limits" : {
          "cpuCoresMax" : 3,
          "logs" : {
            "type" : "json-file",
            "max-size" : "10m",
            "max-file" : "2"
          }
        },
        "workingDirectory" : "/hsqldb",
        "networkMode" : "bridge",
        "network" : {
          "name" : "csap-test-network",
          "note" : "name can be bridge, host, or custom network name",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "bridge"
          }
        }
      },
      "performance" : { },
      "url" : "http://hsqldb.org/"
    },
    "Java" : {
      "server" : "csap-api",
      "autoStart" : 2,
      "port" : 0,
      "description" : "Oracle JDK 8",
      "propDirectory" : "/opt/java",
      "processFilter" : "none",
      "jmxPort" : "-1",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-java"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-java:1.0.0:zip"
      },
      "logDirectory" : "/opt/java",
      "url" : "http://docs.oracle.com/javase/8/docs/",
      "scmVersion" : "none",
      "user" : "ssadmin"
    },
    "Java9" : {
      "server" : "csap-api",
      "autoStart" : 2,
      "port" : 0,
      "description" : "Oracle JDK",
      "propDirectory" : "/opt/java",
      "processFilter" : "none",
      "environmentVariables" : {
        "jdkMajorVersion" : "jdk9",
        "jdkMinorVersion" : "none"
      },
      "jmxPort" : "-1",
      "source" : {
        "scm" : "git",
        "path" : "https://github.com/csap-platform/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-java"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-java:1.0.1:zip"
      },
      "logDirectory" : "/opt/java",
      "url" : "http://www.oracle.com/technetwork/java/javase/9all-relnotes-3704433.html",
      "scmVersion" : "none",
      "user" : "ssadmin"
    },
    "JmeterMonitor" : {
      "server" : "os",
      "description" : "Show JMeter activity",
      "docUrl" : "http://jmeter.apache.org/",
      "propDirectory" : "$$csap-base",
      "processFilter" : ".*java.*jmeter.*",
      "logDirectory" : "/var/logs",
      "logRegEx" : ".*\\.log",
      "url" : "http://jmeter.apache.org/",
      "scmVersion" : "os",
      "metaData" : "skipJmxCollection"
    },
    "PostGresDb" : {
      "server" : "docker",
      "autoStart" : 80,
      "port" : 5432,
      "description" : "Added by pcsapTest. Service provides ...",
      "docUrl" : "https://hub.docker.com/_/postgres/",
      "processFilter" : ".*postgres.*",
      "parameters" : "",
      "jmxPort" : "-1",
      "source" : {
        "scm" : "git",
        "path" : "https://github.com/csap-platform/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-starter-tester"
      },
      "maven" : {
        "dependency" : "org.csap:csap-starter-tester:1.0.3:jar"
      },
      "docker" : {
        "volumes" : [ {
          "containerMount" : "/var/lib/postgresql/data",
          "readOnly" : false,
          "sharedUser" : false,
          "hostPath" : "postgres-volume",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "local"
          }
        } ],
        "network" : {
          "name" : "postgres-network",
          "note" : "name can be bridge, host, or custom network name",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "bridge"
          }
        },
        "image" : "docker.io/postgres:latest",
        "environmentVariables" : [ "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/10/bin", "GOSU_VERSION=1.10", "LANG=en_US.utf8", "PG_MAJOR=10", "PG_VERSION=10.2-1.pgdg90+1", "PGDATA=/var/lib/postgresql/data" ],
        "command" : [ "postgres" ],
        "entryPoint" : [ "docker-entrypoint.sh" ],
        "portMappings" : [ {
          "PrivatePort" : "5432",
          "PublicPort" : "5432"
        } ],
        "versionCommand" : "postgres --version | cut -d\u0027 \u0027 -f3 | cat"
      },
      "url" : "https://hub.docker.com/_/postgres/"
    },
    "SimpleServlet" : {
      "server" : "tomcat8-5.x",
      "autoStart" : 90,
      "description" : "Provides a simple servlet implementation to validate the tomcat runtime",
      "osProcessPriority" : 2,
      "parameters" : "-Xms128M -Xmx128M",
      "environmentVariables" : {
        "demo" : "none"
      },
      "deployTimeoutMinutes" : "1",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-java.git",
        "buildLocation" : "/csap-java-servlet",
        "branch" : "HEAD"
      },
      "maven" : {
        "dependency" : "org.csap:csap-java-servlet:1.0.0:war"
      },
      "runUsingDocker" : "false",
      "docker" : {
        "image" : "containers.na.***REMOVED***.net/someUser/csap-tomcat-oracle:latest",
        "entryPoint" : [ "/bin/sh", "-c", "echo use csap service log viewer, id is `id`; java -version ; catalina.sh run  \u003E\u003E logs/catalina.out 2\u003E\u00261", "" ],
        "command" : [ ],
        "runUser" : "$csapUser",
        "workingDirectory" : "/_working",
        "containerName" : "$$service-name",
        "environmentVariables" : [ "CATALINA_BASE=/_working", "JAVA_OPTS=$$service-parameters -DcsapDockerJava" ],
        "volumes" : [ {
          "hostPath" : "$$service-working",
          "containerMount" : "/_working",
          "readOnly" : false,
          "sharedUser" : true
        } ],
        "portMappings" : [ {
          "PrivatePort" : "$$service-primary-port",
          "PublicPort" : "$$service-primary-port"
        }, {
          "PrivatePort" : "$$service-ajp-port",
          "PublicPort" : "$$service-ajp-port"
        } ],
        "limits" : {
          "cpuCoresMax" : 3
        }
      },
      "customHttpdRouting" : [ "method=Next", "sticky_session=1" ],
      "files" : [ ],
      "apacheModJk" : {
        "loadBalance" : [ "method=Next", "sticky_session=1" ],
        "connection" : [ "reply_timeout=10000" ]
      },
      "apacheModRewrite" : [ "RewriteRule ^/test1/(.*)$  /ServletSample/$1 [PT]", "RewriteRule ^/test2/(.*)$  /ServletSample/$1 [PT]" ]
    },
    "TestService" : {
      "server" : "SpringBoot",
      "autoStart" : 82,
      "port" : 8241,
      "description" : "csap-starter reference implementation",
      "alerts" : {
        "max_diskUtil" : "100",
        "max_threadCount" : "200",
        "max_fileCount" : "500",
        "max_socketCount" : "100",
        "max_rssMemory" : "1000m",
        "max_tomcatConnections" : "10",
        "max_topCpu" : "150"
      },
      "isTomcatAjp" : "true",
      "osProcessPriority" : 0,
      "parameters" : "-DcsapJava8  -Dspring.profiles.active=CSAP_LIFE -XX:+UseG1GC  -Xms64M -Xmx256M -XX:MaxMetaspaceSize=96M -XX:+ExitOnOutOfMemoryError",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-starter.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-starter-tester"
      },
      "maven" : {
        "dependency" : "org.csap:csap-starter-tester:1.0.3:jar"
      },
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "Load test",
          "frequency" : "daily",
          "hour" : "06",
          "script" : "$$csap-base/bin/admin-run-load-test.sh -run_if_host_is csapTest-two"
        }, {
          "description" : "simple test script",
          "frequency" : "onDemand",
          "script" : "$$service-working/jarExtract/BOOT-INF/classes/scripts/test-admin-script.sh"
        }, {
          "description" : "simple ls command",
          "frequency" : "onDemand",
          "script" : "ls -l"
        } ],
        "logRotation" : [ {
          "path" : "$$service-logs/consoleLogs.txt",
          "settings" : "copytruncate,weekly,rotate 3,compress,missingok,size 3M"
        }, {
          "path" : "$$service-logs/warnings.log",
          "lifecycles" : "dev,stage,lt",
          "settings" : "copytruncate,weekly,rotate 3,compress,missingok,size 1M"
        }, {
          "path" : "$$service-logs/warnings.log",
          "lifecycles" : "prod",
          "settings" : "copytruncate,weekly,rotate 5,compress,missingok,size 10M"
        } ],
        "diskCleanUp" : [ {
          "path" : "$$service-working/jmeter/reports",
          "olderThenDays" : 3,
          "maxDepth" : 20
        }, {
          "path" : "$$service-working/logs/serviceJobs/*.log",
          "olderThenDays" : 7,
          "maxDepth" : 1
        } ]
      },
      "runUsingDocker" : "true",
      "docker" : {
        "image" : "***REMOVED***-docker.davis.***REMOVED***.lab/csap-base:latest",
        "entryPoint" : [ "/bin/sh", "-c", "echo use csap service log viewer, running as `id`; java -version ;java $$service-parameters -DcsapDockerJava org.springframework.boot.loader.JarLauncher --spring.profiles.active=$$service-environment --server.context-path=/$$service-context --server.port=$$service-primary-port \u003E\u003E logs/consoleLogs.txt 2\u003E\u00261" ],
        "command" : [ ],
        "workingDirectory" : "/_working",
        "runUser" : "$csapUser",
        "networkMode" : "host",
        "containerName" : "$$service-name",
        "environmentVariables" : [ "CLASSPATH=/_working/jarExtract", "testVar=testValue" ],
        "volumes" : [ {
          "hostPath" : "$$service-working",
          "containerMount" : "/_working",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "hostPath" : "$$service-working/demo-host-volume",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "host"
          },
          "containerMount" : "/_working_demoHostMount",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "hostPath" : "demo-local-volume",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "local"
          },
          "containerMount" : "/_working_demoMount",
          "readOnly" : false,
          "sharedUser" : true
        } ],
        "portMappings" : [ {
          "PrivatePort" : "$$service-primary-port",
          "PublicPort" : "$$service-primary-port"
        }, {
          "PrivatePort" : "$$service-ajp-port",
          "PublicPort" : "$$service-ajp-port"
        } ],
        "limits" : {
          "cpuCoresMax" : 3
        },
        "network" : {
          "name" : "test-service-network",
          "note" : "name can be bridge, host, or custom network name",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "bridge"
          }
        }
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "max" : 40,
          "title" : "Host CPU"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "max" : 40,
          "title" : "JVM Cpu"
        },
        "SpringJmsListeners" : {
          "mbean" : "org.csap:application=sample,name=PerformanceMonitor",
          "attribute" : "JmsActive",
          "max" : 30,
          "title" : "JMS Active Beans"
        },
        "SpringJmsCount" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "title" : "Message Count"
        },
        "SpringJmsCountPerSecond" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "interval",
          "title" : "Messages per second"
        },
        "SpringJmsMedianTimeMs" : {
          "simonMedianTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 3,
          "title" : "Message Mean (ms)"
        },
        "SpringJmsMaxMs" : {
          "simonMaxTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 400,
          "title" : "Message Max (ms)"
        },
        "SpringDbcpActive" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumActive",
          "max" : 5,
          "title" : "DB Connections: Active"
        },
        "SpringDbcpIdle" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumIdle",
          "max" : 15,
          "title" : "DB Connections: Idle"
        },
        "DBAddItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.addSchedule()",
          "title" : "DB: Insert Schedule"
        },
        "DBShowItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.showScheduleItemsJpql()",
          "title" : "DB: Show Schedule"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ]
    },
    "analytics" : {
      "server" : "SpringBoot",
      "autoStart" : 21,
      "description" : "Csap Analytics project provides historical data and adoption analytics",
      "alerts" : {
        "max_diskUtil" : "70",
        "max_threadCount" : "100",
        "max_fileCount" : "300",
        "max_rssMemory" : "4g",
        "max_tomcatConnections" : "40",
        "max_topCpu" : "30",
        "max_socketCount" : "50"
      },
      "isTomcatAjp" : "true",
      "osProcessPriority" : 0,
      "parameters" : "-DcsapJava8  -Dspring.profiles.active=CSAP_LIFE,limits -Xms1500m -Xmx1500m -XX:MaxMetaspaceSize=96M -XX:+ExitOnOutOfMemoryError",
      "environmentVariables" : {
        "mongoHosts" : "$$csap-hosts:mongoDb",
        "mongoUser" : "$$service-environmentCycleRef:mongoUser",
        "mongoPassword" : "$$service-environmentCycleRef:mongoPassword",
        "dataServiceUser" : "$$service-environmentCycleRef:dataServiceUser",
        "dataServicePass" : "$$service-environmentCycleRef:dataServicePass"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-event-services.git",
        "buildLocation" : "/csap-event-analytics",
        "branch" : "HEAD"
      },
      "maven" : {
        "dependency" : "org.csap:csap-event-analytics:2.0.2:jar"
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "title" : "Host Cpu"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "title" : "Analytics Cpu"
        },
        "MetricsApiCount" : {
          "simonCounter" : "performanceData.ALL.build",
          "title" : "Graph Data",
          "reportRate" : "perDay"
        },
        "MetricsApiMeanMs" : {
          "simonMedianTime" : "performanceData.ALL.build",
          "divideBy" : "1000000",
          "title" : "Graph Data Mean (ms)"
        },
        "MetricsApiMaxMs" : {
          "simonMaxTime" : "performanceData.ALL.build",
          "divideBy" : "1000000",
          "title" : "Graph Data Max (ms)"
        },
        "SummaryReportCount" : {
          "simonCounter" : "reportData.ALL.summary",
          "title" : "Summary Report",
          "reportRate" : "perDay"
        },
        "SummaryReportMean" : {
          "simonMedianTime" : "reportData.ALL.summary",
          "divideBy" : "1000000",
          "title" : "Summary Report Mean (ms)"
        },
        "SummaryReportMax" : {
          "simonMaxTime" : "reportData.ALL.summary",
          "divideBy" : "1000000",
          "title" : "Summary Report Max (ms)"
        },
        "TrendingReportCount" : {
          "simonCounter" : "reportData.ALL.trend",
          "title" : "Trend Report",
          "reportRate" : "perDay"
        },
        "TrendingReportMean" : {
          "simonMedianTime" : "reportData.ALL.trend",
          "divideBy" : "1000000",
          "title" : "Trend Report Mean (ms)"
        },
        "TrendingReportMax" : {
          "simonMaxTime" : "reportData.ALL.trend",
          "divideBy" : "1000000",
          "title" : "Trend Report Max (ms)"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ],
      "javaWarnings" : {
        "jvmThreadCount" : {
          "max" : 100
        },
        "jvmThreadsMax" : {
          "max" : 110
        }
      }
    },
    "csap-admin" : {
      "server" : "SpringBoot",
      "autoStart" : 4,
      "description" : "CSAP Manager provides the application portal",
      "alerts" : {
        "max_diskUtil" : "130",
        "max_threadCount" : "140",
        "max_fileCount" : "450",
        "max_socketCount" : "30",
        "max_rssMemory" : "1200m",
        "max_tomcatConnections" : "40",
        "max_topCpu" : "20"
      },
      "isTomcatAjp" : "true",
      "osProcessPriority" : -1,
      "parameters" : "-DcsapJava8 -Dspring.profiles.active=CSAP_LIFE,admin -XX:MaxMetaspaceSize=96M -Xms512M -Xmx512M",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-core.git",
        "buildLocation" : "/csap-core-service",
        "branch" : "HEAD"
      },
      "maven" : {
        "dependency" : "org.csap:csap-core-service:6.0.0.9:jar"
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "title" : "Host Cpu"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "title" : "Process Cpu"
        },
        "SpringMvcRequests" : {
          "mbean" : "Tomcat:j2eeType=Servlet,WebModule=__CONTEXT__,name=dispatcherServlet,J2EEApplication=none,J2EEServer=none",
          "attribute" : "requestCount",
          "delta" : "delta",
          "title" : "Spring Http Requests"
        },
        "ConsoleRequests" : {
          "simonCounter" : "aop.summary.ServiceRequests",
          "max" : 10,
          "title" : "User Service Requests"
        },
        "AdminConsolePings" : {
          "simonCounter" : "http.admin.service.getServicesInLifeCycleSummary.GET",
          "max" : 1,
          "title" : "User Heartbeats"
        },
        "AgentHeartBeatCount" : {
          "simonCounter" : "java.HostStatusManager.getHostRuntimeJson",
          "title" : "Agent Heartbeats"
        },
        "AgentHeartBeatMeanMs" : {
          "simonMedianTime" : "java.HostStatusManager.getHostRuntimeJson",
          "divideBy" : "1000000",
          "title" : "Agent Heartbeats (ms)"
        },
        "AgentHeartBeatMaxTimeMs" : {
          "simonMaxTime" : "java.HostStatusManager.getHostRuntimeJson",
          "divideBy" : "1000000",
          "max" : 1200,
          "title" : "Agent Heartbeats Max (ms)"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ],
      "javaWarnings" : {
        "jvmThreadCount" : {
          "max" : 100
        },
        "jvmThreadsMax" : {
          "max" : 110
        }
      }
    },
    "csap-agent" : {
      "server" : "SpringBoot",
      "autoStart" : 3,
      "description" : "CsAgent provides core service management capabilities, along with runtimes. admin services uses it extensively.",
      "alerts" : {
        "max_diskUtil" : "140",
        "max_threadCount" : "120",
        "max_fileCount" : "400",
        "max_socketCount" : "50",
        "max_rssMemory" : "800m",
        "max_tomcatConnections" : "40",
        "max_topCpu" : "20",
        "nagiosCommand" : "check_http! -v -u /CsAgent/api/CapabilityHealth --regex \".*Healthy.*true.*\"  -t 3   ",
        "max_diskWriteKb" : "50000"
      },
      "osProcessPriority" : -12,
      "parameters" : "-DcsapJava8 -Dspring.profiles.active=CSAP_LIFE,agent,limits -Dsun.rmi.transport.tcp.responseTimeout=3000 -XX:MaxMetaspaceSize=96M -Xms256M -Xmx256M",
      "environmentVariables" : {
        "hostUrlPattern" : "http://CSAP_HOST.davis.***REMOVED***.lab:8011/CsAgent",
        "mailServer" : "outbound.yourMail.com",
        "csapDockerRepository" : "docker.io"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-core.git",
        "buildLocation" : "/csap-core-service",
        "branch" : "HEAD"
      },
      "maven" : {
        "dependency" : "org.csap:csap-core-service:6.0.0.9:jar"
      },
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "demo checkLimits",
          "frequency" : "onDemand",
          "script" : "$$csap-base/bin/admin-show-limits.sh"
        }, {
          "description" : "demo file listing",
          "frequency" : "onDemand",
          "script" : "ls -al"
        }, {
          "description" : "demo count sockets",
          "frequency" : "daily",
          "hour" : "02",
          "script" : "$$csap-base/bin/collect-host-resources.sh"
        } ],
        "logRotation" : [ {
          "path" : "$$service-logs/consoleLogs.txt",
          "settings" : "copytruncate,weekly,rotate 3,compress,missingok,size 3M"
        }, {
          "path" : "$$service-logs/warnings.log",
          "lifecycles" : "dev,stage,lt",
          "settings" : "copytruncate,weekly,rotate 3,compress,missingok,size 1M"
        }, {
          "path" : "$$service-logs/warnings.log",
          "lifecycles" : "prod",
          "settings" : "copytruncate,weekly,rotate 5,compress,missingok,size 10M"
        } ],
        "diskCleanUp" : [ {
          "path" : "$$service-working/logs/serviceJobs/*.log",
          "olderThenDays" : 7,
          "maxDepth" : 1
        }, {
          "path" : "$$csap-working/*.log",
          "olderThenDays" : 5,
          "maxDepth" : 1
        }, {
          "path" : "$$csap-base/saved",
          "olderThenDays" : 30,
          "maxDepth" : 10,
          "pruneEmptyFolders" : true
        }, {
          "path" : "$$csap-base/mavenRepo",
          "olderThenDays" : 60,
          "maxDepth" : 10,
          "pruneEmptyFolders" : true
        }, {
          "path" : "$$csap-base/build",
          "olderThenDays" : 60,
          "maxDepth" : 10,
          "pruneEmptyFolders" : true
        } ]
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "max" : 50,
          "title" : "Host Cpu"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "max" : 10,
          "title" : "Agent Cpu"
        },
        "AdminPingsMeanMs" : {
          "divideBy" : "1000000",
          "max" : 25,
          "title" : "Agent Status (ms)",
          "simonMaxTime" : "AgentStatus"
        },
        "linuxPsAndMatchMeanMs" : {
          "simonMedianTime" : "java.OsManager.getProcessStats",
          "divideBy" : "1000000",
          "max" : "50",
          "title" : "OS process status (ms)"
        },
        "LogRotationMs" : {
          "simonMedianTime" : "service.jobs.all.logs",
          "divideBy" : "1000000",
          "max" : 60000,
          "title" : "Log Rotation Time (ms)",
          "reportRate" : "perHour"
        },
        "serviceDiskUsage" : {
          "simonMedianTime" : "java.OsManager.collectDiskUsage",
          "divideBy" : "1000000",
          "max" : 60000,
          "title" : "Service Disk  Collection (ms)",
          "reportRate" : "perHour"
        },
        "publishEvents" : {
          "title" : "Event Uploads",
          "simonCounter" : "csapdata.publish.all",
          "delta" : "true"
        },
        "publishEventsMs" : {
          "simonMedianTime" : "csapdata.publish.all",
          "divideBy" : "1000000",
          "title" : "Event Upload Time (ms)"
        },
        "SpringMvcRequests" : {
          "mbean" : "Tomcat:j2eeType=Servlet,WebModule=__CONTEXT__,name=dispatcherServlet,J2EEApplication=none,J2EEServer=none",
          "attribute" : "requestCount",
          "delta" : "delta",
          "title" : "Spring Http Requests",
          "reportRate" : "perDay"
        },
        "JavaCollectionCounter" : {
          "simonCounter" : "collector.jmx",
          "title" : "Java Collections",
          "max" : "2",
          "reportRate" : "perMinute"
        },
        "JmxCollectionMs" : {
          "simonMedianTime" : "collector.jmx",
          "divideBy" : "1000000",
          "max" : "800",
          "title" : "Java Collection Time (ms)"
        },
        "JmxCollectionFailures" : {
          "simonCounter" : "collector.jmx.failures",
          "title" : "Java Collections - Failures",
          "max" : 10,
          "reportRate" : "perDay"
        },
        "JmxCustomCollectionFailures" : {
          "simonCounter" : "collector.jmx.custom.failures",
          "title" : "Java Collections - App Failures",
          "max" : 10,
          "reportRate" : "perDay"
        },
        "CommandsSinceRestart" : {
          "simonCounter" : "java.OsCommandRunner.execute",
          "max" : 1500,
          "title" : "Commands Since Restart",
          "delta" : "false"
        },
        "OsCommandsCounter" : {
          "simonCounter" : "java.OsCommandRunner.execute",
          "max" : 1500,
          "title" : "OS Commands",
          "reportRate" : "perHour"
        },
        "OsCommandsMeanMs" : {
          "simonMedianTime" : "java.OsCommandRunner.execute",
          "divideBy" : "1000000",
          "max" : "1437",
          "title" : "OS Commands Time (ms)"
        },
        "OsCommandsMaxTimeMs" : {
          "simonMaxTime" : "java.OsCommandRunner.execute",
          "divideBy" : "1000000",
          "max" : "10500",
          "title" : "OS Commands Max (ms)"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ],
      "javaWarnings" : {
        "jvmThreadCount" : {
          "max" : 100
        },
        "jvmThreadsMax" : {
          "max" : 110
        }
      }
    },
    "csap-test-docker-traffic" : {
      "server" : "csap-api",
      "description" : "Added by pnightingale. Service provides ...",
      "processFilter" : ".*-DcsapVerify=$$service-name.*",
      "alerts" : {
        "max_diskUtil" : "2g"
      },
      "environmentVariables" : {
        "testFolder" : "$$service-working/docker-performance",
        "time_in_minutes" : "60"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-starter.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-traffic-test"
      },
      "maven" : {
        "dependency" : "org.csap:csap-starter-traffic:2.0-SNAPSHOT:jar"
      },
      "defaultLogToShow" : "mavenVerify.txt",
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "Load test",
          "frequency" : "daily",
          "hour" : "06",
          "script" : "$$csap-base/bin/admin-run-load-test.sh"
        } ],
        "diskCleanUp" : [ {
          "path" : "$$service-working/jmeter/reports",
          "olderThenDays" : 5,
          "pruneEmptyFolders" : true,
          "maxDepth" : 10
        }, {
          "path" : "$$service-working/jmeter/results",
          "olderThenDays" : 1,
          "pruneEmptyFolders" : true,
          "maxDepth" : 10
        }, {
          "path" : "$$service-working/logs/serviceJobs",
          "olderThenDays" : 5,
          "pruneEmptyFolders" : true,
          "maxDepth" : 10
        } ]
      }
    },
    "data" : {
      "server" : "SpringBoot",
      "autoStart" : 20,
      "description" : "Csap Data receives user and system events from all CSAP agents",
      "alerts" : {
        "max_diskUtil" : "150",
        "max_threadCount" : "150",
        "max_fileCount" : "500",
        "max_rssMemory" : "800m",
        "max_tomcatConnections" : "40",
        "max_topCpu" : "150",
        "max_socketCount" : "85"
      },
      "isTomcatAjp" : "true",
      "parameters" : "-DcsapJava8 -Dspring.profiles.active=CSAP_LIFE,limits -Xms256M -Xmx256M -XX:MaxMetaspaceSize=96M -XX:+ExitOnOutOfMemoryError",
      "environmentVariables" : {
        "mongoHosts" : "$$csap-hosts:mongoDb",
        "mongoUser" : "$$service-environmentCycleRef:mongoUser",
        "mongoPassword" : "$$service-environmentCycleRef:mongoPassword"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-event-services.git",
        "buildLocation" : "/csap-event-data",
        "branch" : "HEAD"
      },
      "maven" : {
        "dependency" : "org.csap:csap-event-data:2.0.3:jar"
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "max" : 50,
          "title" : "Host Cpu"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "max" : 10,
          "title" : "Jvm Cpu"
        },
        "EventPostRate" : {
          "simonCounter" : "addEvent.insert",
          "title" : "Events Posted",
          "isHourlyAverage" : true,
          "max" : "10000"
        },
        "EventsPerSecond" : {
          "simonCounter" : "addEvent.insert",
          "divideBy" : "interval",
          "title" : "Events Per Second"
        },
        "EventPostMeanMs" : {
          "simonMedianTime" : "addEvent.insert",
          "divideBy" : "1000000",
          "title" : "Event Post Average(ms)"
        },
        "EventPostMaxMs" : {
          "simonMaxTime" : "addEvent.insert",
          "divideBy" : "1000000",
          "title" : "Event Post Max(ms)"
        },
        "UserActivity" : {
          "simonCounter" : "addEvent.insert.user.activity",
          "title" : "CSAP User Activity"
        },
        "searchFilterMean" : {
          "title" : "Search Filters User(ms)",
          "divideBy" : "1000000",
          "simonMedianTime" : "searchFilters.allTotal"
        },
        "EventRecordsInK" : {
          "mbean" : "org.csap:application=CsapData,name=Performance",
          "attribute" : "NumRecordsInEvents",
          "title" : "Event Document Count"
        },
        "EventDbStorageMb" : {
          "mbean" : "org.csap:application=CsapData,name=Performance",
          "attribute" : "EventDBStorageSize",
          "title" : "Event Storage on Disk(Mb)"
        },
        "EventGetCount" : {
          "simonCounter" : "eventGet",
          "title" : "Events Get"
        },
        "EventGetMeanMs" : {
          "simonMedianTime" : "eventGet",
          "divideBy" : "1000000",
          "title" : "Events Get Average (ms)"
        },
        "EventGetMaxMs" : {
          "simonMaxTime" : "eventGet",
          "divideBy" : "1000000",
          "title" : "Events Get Max (ms)"
        },
        "EventDbIndexMb" : {
          "mbean" : "org.csap:application=CsapData,name=Performance",
          "attribute" : "DBIndexSize",
          "title" : "Event Index in Memory(Mb)"
        },
        "EventDbDataMb" : {
          "mbean" : "org.csap:application=CsapData,name=Performance",
          "attribute" : "EventDBDataSize",
          "title" : "Event Storage in Memory(Mb)"
        },
        "EventFilteredCount" : {
          "simonMedianTime" : "filteredCount",
          "divideBy" : "1000000",
          "title" : "Filtered Count Avg(Ms)"
        },
        "MetricsEventPostRate" : {
          "simonCounter" : "addEvent.insert.performance.data",
          "title" : "Metric Events Posted",
          "isHourlyAverage" : true,
          "max" : "4000"
        },
        "MetricsEventPostMeanMs" : {
          "simonMedianTime" : "addEvent.insert.performance.data",
          "divideBy" : "1000000",
          "title" : "Metric Post Average(ms)"
        },
        "MetricsEventPostMaxMs" : {
          "simonMaxTime" : "addEvent.insert.performance.data",
          "divideBy" : "1000000",
          "title" : "Metric Post Max(ms)"
        },
        "MetricsRecordsInK" : {
          "mbean" : "org.csap:application=CsapData,name=Performance",
          "attribute" : "NumRecordsInMetrics",
          "title" : "Metric Document Count"
        },
        "MetricsDbStorageMb" : {
          "mbean" : "org.csap:application=CsapData,name=Performance",
          "attribute" : "MetricsDBStorageSize",
          "title" : "Metric Storage on Disk(Mb)"
        },
        "MetricsDbDataMb" : {
          "mbean" : "org.csap:application=CsapData,name=Performance",
          "attribute" : "MetricsDBDataSize",
          "title" : "Metric Storage in Memory(Mb)"
        },
        "SpringMvcRequests" : {
          "mbean" : "Tomcat:j2eeType=Servlet,WebModule=__CONTEXT__,name=dispatcherServlet,J2EEApplication=none,J2EEServer=none",
          "attribute" : "requestCount",
          "delta" : "delta",
          "title" : "Spring Dispatcher Requests"
        },
        "EventSecurity" : {
          "simonCounter" : "csap.security.filter",
          "title" : "Event Credential Attempts"
        },
        "EventSecurityErrors" : {
          "simonCounter" : "csap.security.filter.authenticate.fail",
          "title" : "Event Credential Failures"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ],
      "javaWarnings" : {
        "jvmThreadCount" : {
          "max" : 100
        },
        "jvmThreadsMax" : {
          "max" : 110
        }
      }
    },
    "docker" : {
      "server" : "csap-api",
      "autoStart" : 4,
      "description" : "Provides installation and management of dockerd",
      "propDirectory" : "scripts",
      "processFilter" : ".*dockerd.*",
      "alerts" : {
        "max_diskUtil" : "10g",
        "max_diskWriteKb" : "50"
      },
      "environmentVariables" : {
        "dockerStorage" : "/opt/csapUser/dockerStorage",
        "allowRemote" : "true",
        "dockerPackage" : "docker-latest"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-docker"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-docker:1.1:zip"
      },
      "logDirectory" : "logs",
      "defaultLogToShow" : "var-log-messages",
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "docker system prune",
          "frequency" : "daily",
          "hour" : "03",
          "script" : "$$service-working/scripts/cleanUp.sh"
        } ]
      },
      "url" : "https://github.com/csap-platform/csap-core/wiki",
      "metaData" : "skipJmxCollection",
      "disk" : "/opt/csapUser/dockerStorage"
    },
    "httpd" : {
      "server" : "csap-api",
      "autoStart" : 5,
      "port" : 8080,
      "description" : "someUser added, and needs to update this description",
      "propDirectory" : "/opt/csapUser/staging/httpdConf",
      "processFilter" : ".*httpd_8080.*httpd.*",
      "alerts" : {
        "max_diskUtil" : "1000",
        "max_threadCount" : "300",
        "max_fileCount" : "300",
        "max_rssMemory" : "250m",
        "max_topCpu" : "30",
        "nagiosCommand" : "check_http! -v -u /about.html --regex \".*CS-AP Web Server.*\"  -t 3  ",
        "max_socketCount" : "100"
      },
      "osProcessPriority" : -12,
      "jmxPort" : "-1",
      "deployTimeoutMinutes" : "10",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-httpd"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-httpd:2.4.23.1:zip"
      },
      "defaultLogToShow" : "error_log",
      "performance" : {
        "config" : {
          "httpCollectionUrl" : "http://localhost:8080/server-status?auto",
          "patternMatch" : ": ([^\n]*)",
          "title" : "CSAP Collection Url"
        },
        "BusyWorkers" : {
          "attribute" : "BusyWorkers",
          "title" : "Workers Busy"
        },
        "IdleWorkers" : {
          "attribute" : "IdleWorkers",
          "title" : "Workers Idle"
        },
        "KBytesPerSecond" : {
          "attribute" : "BytesPerSec",
          "decimals" : "1",
          "divideBy" : 1024,
          "title" : "Requests: KB per second"
        },
        "KBytesPerRequest" : {
          "attribute" : "BytesPerReq",
          "decimals" : "1",
          "divideBy" : 1024,
          "title" : "Requests: KB per Request"
        },
        "UrlsProcessed" : {
          "attribute" : "Total Accesses",
          "delta" : true,
          "title" : "Requests: Between collections"
        },
        "RequestsPerSecond" : {
          "attribute" : "ReqPerSec",
          "decimals" : "2",
          "title" : "Requests: Number per Second"
        }
      },
      "url" : "http://$$service-host.davis.***REMOVED***.lab:8011/CsAgent/service/httpd,http://$$service-host.davis.***REMOVED***.lab:8011/CsAgent/service/modjk,http://$$service-host.davis.***REMOVED***.lab:8080/about.html",
      "metaData" : "skipJmxCollection,killWarnings,generateWorkerProperties"
    },
    "jstatd" : {
      "server" : "csap-api",
      "autoStart" : 98,
      "port" : 8099,
      "description" : "Java Statistics",
      "propDirectory" : "/opt/csapUser/processing/mongodb/conf",
      "processFilter" : ".*jstatd.*",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-java-statd"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-java-statd:1.0.0:zip"
      },
      "url" : "https://wiki.na.***REMOVED***.net/display/SFAECSAP/CSAP+Java+Stats+Package",
      "metaData" : "skipJmxCollection"
    },
    "linux" : {
      "server" : "csap-api",
      "autoStart" : 1,
      "port" : 0,
      "description" : "csap linux integration",
      "propDirectory" : "/etc",
      "processFilter" : "none",
      "alerts" : {
        "max_diskUtil" : "12g"
      },
      "jmxPort" : "-1",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-linux"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-linux:1.4:zip"
      },
      "logDirectory" : "logs",
      "defaultLogToShow" : "var-log-messages",
      "scmVersion" : "none",
      "user" : "ssadmin",
      "metaData" : "",
      "disk" : "lv_opt"
    },
    "mongoArbiter" : {
      "server" : "csap-api",
      "autoStart" : 16,
      "port" : 29017,
      "description" : "For global analytics",
      "propDirectory" : "conf",
      "processFilter" : ".*mongoArbiter.*mongod.*conf.*",
      "alerts" : {
        "max_diskUtil" : "700",
        "max_threadCount" : "100",
        "max_fileCount" : "100",
        "max_topCpu" : "100"
      },
      "isDataStore" : "true",
      "parameters" : "--wiredTigerCacheSizeGB 4 --setParameter enableTestCommands=1",
      "environmentVariables" : {
        "mongoVersion" : "mongodb-linux-x86_64-rhel70-3.6.1",
        "mongoData" : "/opt/csapUser/arbiter/arb",
        "lifecycle" : {
          "dev" : {
            "mongoVersion" : "mongodb-linux-x86_64-rhel70-3.6.1"
          }
        }
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-mongo"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-mongo:1.2:zip"
      },
      "defaultLogToShow" : "mongodb.log",
      "logRegEx" : ".*\\.log",
      "url" : "http://$$service-host:8161/admin/queues.jsp",
      "scmVersion" : "2.4.9"
    },
    "mongoDb" : {
      "server" : "csap-api",
      "autoStart" : 15,
      "port" : 27017,
      "description" : "For global analytics",
      "propDirectory" : "conf",
      "processFilter" : ".*mongoDb.*mongod.*conf.*",
      "alerts" : {
        "max_diskUtil" : "10g",
        "max_threadCount" : "100",
        "max_fileCount" : "125",
        "max_topCpu" : "400",
        "max_rssMemory" : "9g",
        "max_socketCount" : "30",
        "max_diskWriteKb" : "4000"
      },
      "isDataStore" : "true",
      "parameters" : "--wiredTigerCacheSizeGB 4 --setParameter enableTestCommands=1",
      "environmentVariables" : {
        "mongoUser" : "$$service-environmentCycleRef:mongoUser",
        "mongoPassword" : "doDecode:$$service-environmentCycleRef:mongoPassword",
        "mongoVersion" : "mongodb-linux-x86_64-rhel70-3.6.1",
        "mongoData" : "/opt/csapUser/events/event34/data/db",
        "IsMaster" : "$application:IsMaster",
        "lifecycle" : {
          "dev" : {
            "mongoVersion" : "mongodb-linux-x86_64-rhel70-3.6.1"
          }
        }
      },
      "jmxPort" : "-1",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-mongo"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-mongo:1.2:zip"
      },
      "defaultLogToShow" : "mongodb.log",
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "Warmup DB after shutdown to ensure indexes are loaded",
          "frequency" : "onDemand",
          "script" : "$$service-working/jobs/eventsWarmup.sh"
        }, {
          "description" : "Mongo nightly backups",
          "frequency" : "daily",
          "hour" : "01",
          "script" : "$$service-working/jobs/dailyBackup.sh"
        }, {
          "description" : "Event Summary",
          "frequency" : "onDemand",
          "script" : "$$service-working/jobs/eventSummary.sh"
        } ],
        "logRotation" : [ {
          "path" : "$$service-logs/mongodb.log",
          "settings" : "copytruncate,weekly,rotate 6,compress,missingok,size 10M"
        } ],
        "diskCleanUp" : [ {
          "path" : "$$service-working/logs/serviceJobs/*.log",
          "olderThenDays" : 7,
          "maxDepth" : 1
        } ]
      },
      "performance" : {
        "config" : {
          "httpCollectionUrl" : "http://$$service-host:8221/data/eventApi/serverStatus",
          "user" : "dataBaseReadWriteUser",
          "pass" : "DrMansm3x2XoUI+4YpuIUTQYc/621Xw9",
          "dev" : {
            "user" : "dataBaseReadWriteUser",
            "pass" : "16sb6JFYF8LmbwSWXRwWolKOkFgheNc8"
          },
          "patternMatch" : "JSON",
          "notes" : "CSAP collection will look for $numberLong in attributes and use it if found"
        },
        "IsMaster" : {
          "attribute" : "/repl/ismaster",
          "title" : "Cluster Master"
        },
        "MongoActiveConnections" : {
          "attribute" : "/connections/current",
          "title" : "Active Connections"
        },
        "Inserts" : {
          "attribute" : "/opcounters/insert",
          "delta" : "delta",
          "title" : "Insert Operations"
        },
        "Queries" : {
          "attribute" : "/opcounters/query",
          "delta" : "delta",
          "title" : "Query Operations"
        },
        "GetMore" : {
          "attribute" : "/opcounters/getmore",
          "delta" : "delta",
          "title" : "GetMore Operations"
        },
        "Command" : {
          "attribute" : "/opcounters/command",
          "delta" : "delta",
          "title" : "Command Operations"
        },
        "TigerCacheSize" : {
          "attribute" : "/wiredTiger/cache/bytes currently in the cache",
          "decimals" : "0",
          "divideBy" : 1048576,
          "title" : "Tiger Cache Size(Mb)"
        },
        "TigerCacheWrite" : {
          "attribute" : "/wiredTiger/cache/bytes written from cache",
          "decimals" : "1",
          "divideBy" : 1024,
          "delta" : "delta",
          "title" : "Tiger Cache Writes (Kb)"
        },
        "TigerCachePagesEvicted" : {
          "attribute" : "/wiredTiger/cache/unmodified pages evicted",
          "decimals" : "0",
          "delta" : "delta",
          "title" : "Tiger Cache Pages Evicted"
        },
        "TigerCachePagesRead" : {
          "attribute" : "/wiredTiger/cache/pages read into cache",
          "decimals" : "0",
          "delta" : "delta",
          "title" : "Tiger Cache Pages Loaded"
        },
        "DiskReads" : {
          "attribute" : "/wiredTiger/block-manager/bytes read",
          "decimals" : "1",
          "divideBy" : 1024,
          "delta" : "delta",
          "title" : "Tiger Block Reads (Kb)"
        },
        "DiskWrites" : {
          "attribute" : "/wiredTiger/block-manager/bytes written",
          "decimals" : "1",
          "divideBy" : 1024,
          "delta" : "delta",
          "title" : "Tiger Block Writes (Kb)"
        },
        "LocksRead" : {
          "attribute" : "/locks/Global/acquireCount/r",
          "delta" : "delta",
          "title" : "Locks - Read"
        },
        "LocksWrite" : {
          "attribute" : "/locks/Global/acquireCount/w",
          "delta" : "delta",
          "title" : "Locks - Write"
        },
        "LocksWaitRead" : {
          "attribute" : "/locks/Global/acquireWaitCount/r",
          "delta" : "delta",
          "title" : "Locks - Read Waits"
        },
        "LocksWaitWrite" : {
          "attribute" : "/locks/Global/acquireWaitCount/W",
          "delta" : "delta",
          "title" : "Locks - Write Waits"
        },
        "Readers" : {
          "attribute" : "/globalLock/activeClients/readers",
          "title" : "Active Readers"
        },
        "Writers" : {
          "attribute" : "/globalLock/activeClients/writers",
          "title" : "Active Writers"
        },
        "MongoKbIn" : {
          "attribute" : "/network/bytesIn",
          "decimals" : "1",
          "divideBy" : 1024,
          "delta" : "delta",
          "title" : "Network In (Kb)"
        },
        "Updates" : {
          "attribute" : "/opcounters/update",
          "delta" : "delta",
          "title" : "Update Operations"
        },
        "Deletes" : {
          "attribute" : "/opcounters/delete",
          "delta" : "delta",
          "title" : "Delete Operations"
        }
      },
      "disk" : "$$service-working /opt/csapUser/events",
      "url" : "http://$$service-host:8221/data/eventApi/serverStatus"
    },
    "mpstatMonitor" : {
      "server" : "os",
      "port" : 1212,
      "description" : "Optional monitor for mpstat. Agent starts up mpstat instances to collect host resource consumption.",
      "docUrl" : "https://linux.die.net/man/1/mpstat",
      "propDirectory" : "/",
      "processFilter" : ".*mpstat.*",
      "logDirectory" : "/var/logs",
      "logRegEx" : ".*\\.log",
      "url" : "https://linux.die.net/man/1/mpstat",
      "scmVersion" : "os",
      "metaData" : "skipJmxCollection"
    },
    "nginx" : {
      "server" : "docker",
      "autoStart" : 98,
      "port" : 7080,
      "description" : "nginx docker demo, runs on 7080 and 7443",
      "docUrl" : "https://hub.docker.com/_/nginx/",
      "appDirectory" : "/usr/share/nginx",
      "propDirectory" : "/etc/nginx",
      "processFilter" : ".*nginx.*",
      "jmxPort" : "-1",
      "docker" : {
        "image" : "docker.io/nginx:latest",
        "entryPoint" : [ ],
        "command" : [ "nginx", "-g", "daemon off;" ],
        "containerName" : "$$service-name",
        "versionCommand" : "nginx -v 2\u003E\u00261 | cut -d/ -f2 | cat",
        "environmentVariables" : [ "JAVA_HOME=/opt/java", "WORKING_DIR=/working" ],
        "volumes" : [ {
          "hostPath" : "my-demo-volume",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "local"
          },
          "containerMount" : "/my-demo-local-mount",
          "readOnly" : false,
          "sharedUser" : true
        }, {
          "hostPath" : "/opt/csapUser/nginx-mount",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "host"
          },
          "containerMount" : "/my-demo-host-mount",
          "readOnly" : false,
          "sharedUser" : true
        } ],
        "portMappings" : [ {
          "PrivatePort" : "443",
          "PublicPort" : "7443"
        }, {
          "PrivatePort" : "80",
          "PublicPort" : "7080"
        } ],
        "limits" : {
          "cpuCoresMax" : 2,
          "memoryInMb" : 512,
          "ulimits" : [ {
            "name" : "nofile",
            "soft" : 500,
            "hard" : 500
          }, {
            "name" : "nproc",
            "soft" : 200,
            "hard" : 200
          } ]
        },
        "networkMode" : "bridge",
        "network" : {
          "name" : "nginx-network",
          "createPersistent" : {
            "enabled" : true,
            "driver" : "bridge"
          }
        }
      }
    },
    "seanService" : {
      "server" : "SpringBoot",
      "autoStart" : 42,
      "description" : "csap-starter reference implementation",
      "alerts" : {
        "max_diskUtil" : "5500",
        "max_threadCount" : "200",
        "max_fileCount" : "500",
        "max_socketCount" : "100",
        "max_rssMemory" : "1000m",
        "max_tomcatConnections" : "10",
        "max_topCpu" : "150"
      },
      "isTomcatAjp" : "true",
      "osProcessPriority" : 0,
      "parameters" : "-DcsapJava8  -Dspring.profiles.active=embedded,CSAP_LIFE -Xms256M -Xmx256M -XX:MaxMetaspaceSize=96M -XX:+ExitOnOutOfMemoryError",
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/cs/server.git",
        "branch" : "HEAD"
      },
      "maven" : {
        "dependency" : "com.***REMOVED***.common.services:scs-server-install:1.0.0:jar",
        "repo" : "http://***REMOVED***pro-00.***REMOVED***.lab/artifactory/libs-release-local"
      },
      "scheduledJobs" : {
        "scripts" : [ {
          "description" : "simple test script",
          "frequency" : "onDemand",
          "script" : "$$service-working/jarExtract/BOOT-INF/classes/scripts/test-admin-script.sh"
        }, {
          "description" : "simple ls command",
          "frequency" : "onDemand",
          "script" : "ls -l"
        } ]
      },
      "performance" : {
        "TotalVmCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "SystemCpuLoad",
          "max" : 40,
          "title" : "Host CPU"
        },
        "ProcessCpu" : {
          "mbean" : "java.lang:type=OperatingSystem",
          "attribute" : "ProcessCpuLoad",
          "max" : 40,
          "title" : "JVM Cpu"
        },
        "SpringJmsListeners" : {
          "mbean" : "org.csap:application=sample,name=PerformanceMonitor",
          "attribute" : "JmsActive",
          "max" : 30,
          "title" : "JMS Active Beans"
        },
        "SpringJmsCount" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "title" : "Message Count"
        },
        "SpringJmsCountPerSecond" : {
          "simonCounter" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "interval",
          "title" : "Messages per second"
        },
        "SpringJmsMedianTimeMs" : {
          "simonMedianTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 3,
          "title" : "Message Mean (ms)"
        },
        "SpringJmsMaxMs" : {
          "simonMaxTime" : "jms.SimpleJms.processRawMessageForTestScenarios()",
          "divideBy" : "1000000",
          "max" : 400,
          "title" : "Message Max (ms)"
        },
        "SpringDbcpActive" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumActive",
          "max" : 5,
          "title" : "DB Connections: Active"
        },
        "SpringDbcpIdle" : {
          "mbean" : "org.apache.commons.dbcp2:name=helloDataSource,type=BasicDataSource",
          "attribute" : "NumIdle",
          "max" : 15,
          "title" : "DB Connections: Idle"
        },
        "DBAddItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.addSchedule()",
          "title" : "DB: Insert Schedule"
        },
        "DBShowItem" : {
          "simonCounter" : "jpa.Demo_DataAccessObject.showScheduleItemsJpql()",
          "title" : "DB: Show Schedule"
        }
      },
      "health" : {
        "reportMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "reportAttribute" : "HealthReport",
        "statusMbean" : "org.csap:application=CsapPerformance,name=PerformanceMonitor",
        "statusAttribute" : "HealthStatus"
      },
      "files" : [ ]
    },
    "tomcat" : {
      "server" : "csap-api",
      "autoStart" : 9,
      "port" : 0,
      "description" : "Apache Tomcat Servers",
      "propDirectory" : "$$csap-working/appsTomcat",
      "processFilter" : "none",
      "alerts" : {
        "max_diskUtil" : "300m"
      },
      "environmentVariables" : {
        "extractAsNeeded" : "false"
      },
      "source" : {
        "scm" : "git",
        "path" : "https://moc-bb.***REMOVED***/bitbucket/scm/csap/csap-packages.git",
        "branch" : "HEAD",
        "buildLocation" : "/csap-package-tomcat"
      },
      "maven" : {
        "dependency" : "org.csap:csap-package-tomcat:1.0.0:zip"
      },
      "url" : "https://github.com/csap-platform/csap-core/wiki",
      "metaData" : "",
      "disk" : "$$service-working $$csap-working/appsTomcat"
    }
  }
}